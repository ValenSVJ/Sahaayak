{% extends "base.html" %}

{% block title %}Home - Sahaayak{% endblock %}

{% block content %}
<div 
  class="w-screen h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center" 
  style="background-image: url('{{ url_for('static', filename='uploads/groceries.jpg') }}');">
    <div class="max-w-4xl w-full bg-black/40 backdrop-blur-md rounded-2xl shadow-2xl overflow-hidden">
        <div class="grid md:grid-cols-2">
            <div class="p-8 md:p-12 text-white flex flex-col justify-center">
                <h1 class="text-4xl font-bold">Welcome to Sahaayak</h1>
                <p class="mt-4 text-lg text-gray-200">Connect vendors and wholesalers for bulk purchasing power and better deals.</p>
            </div>
            <div class="p-8 bg-black/20">
                <div class="grid grid-cols-1 gap-6">
                    <div class="bg-green-500/90 rounded-xl shadow-lg p-6 text-white text-center transform hover:scale-105 transition-transform duration-300 cursor-pointer" onclick="showVendorLanguageModal()">
                        <h2 class="text-2xl font-bold">I'm a Street Vendor</h2>
                        <p class="mt-2 text-green-100">Join buying clubs and save on bulk purchases</p>
                    </div>
                    <div class="bg-blue-600/90 rounded-xl shadow-lg p-6 text-white text-center">
                        <h2 class="text-2xl font-bold">I'm a Wholesaler</h2>
                        <div class="mt-6 space-y-4">
                            <a href="{{ url_for('wholesaler_login') }}" class="w-full block bg-white text-blue-600 font-semibold py-3 px-4 rounded-lg shadow-md hover:bg-gray-100 transition-colors duration-300">Login to Dashboard</a>
                            <a href="{{ url_for('register_wholesaler') }}" class="w-full block bg-blue-500 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:bg-blue-400 transition-colors duration-300 border border-blue-400">Register New Account</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Language Selection Modal for Vendors -->
<div id="vendorLanguageModal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
    <div class="relative top-20 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white">
        <div class="mt-3">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-800">Choose Your Language</h3>
                <button onclick="hideVendorLanguageModal()" class="text-gray-400 hover:text-gray-600 text-2xl">&times;</button>
            </div>
            <p class="text-gray-600 mb-6 text-center">‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç / Select Language / ‡§≠‡§æ‡§∑‡§æ ‡§®‡§ø‡§µ‡§°‡§æ</p>
            <div class="space-y-4">
                <!-- English -->
                <button onclick="selectLanguage('en')" 
                        class="w-full bg-blue-50 hover:bg-blue-100 border-2 border-blue-200 hover:border-blue-400 rounded-lg p-4 text-left transition-all duration-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üá¨üáß</div>
                        <div>
                            <h4 class="font-semibold text-gray-800">English</h4>
                            <p class="text-sm text-gray-600">Continue in English</p>
                        </div>
                    </div>
                </button>
                <!-- Hindi -->
                <button onclick="selectLanguage('hi')" 
                        class="w-full bg-orange-50 hover:bg-orange-100 border-2 border-orange-200 hover:border-orange-400 rounded-lg p-4 text-left transition-all duration-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üáÆüá≥</div>
                        <div>
                            <h4 class="font-semibold text-gray-800">‡§π‡§ø‡§Ç‡§¶‡•Ä</h4>
                            <p class="text-sm text-gray-600">‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç</p>
                        </div>
                    </div>
                </button>
                <!-- Marathi -->
                <button onclick="selectLanguage('mr')" 
                        class="w-full bg-green-50 hover:bg-green-100 border-2 border-green-200 hover:border-green-400 rounded-lg p-4 text-left transition-all duration-200">
                    <div class="flex items-center space-x-4">
                        <div class="text-3xl">üü†</div>
                        <div>
                            <h4 class="font-semibold text-gray-800">‡§Æ‡§∞‡§æ‡§†‡•Ä</h4>
                            <p class="text-sm text-gray-600">‡§Æ‡§∞‡§æ‡§†‡•Ä‡§§ ‡§∏‡•Å‡§∞‡•Ç ‡§†‡•á‡§µ‡§æ</p>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </div>
</div>

<script>
// Language modal functions
function showVendorLanguageModal() {
    document.getElementById('vendorLanguageModal').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
}
function hideVendorLanguageModal() {
    document.getElementById('vendorLanguageModal').classList.add('hidden');
    document.body.style.overflow = 'auto';
}
function selectLanguage(lang) {
    localStorage.setItem('vendorLanguage', lang);
    window.location.href = `/vendor/login?lang=${lang}`;
}
document.getElementById('vendorLanguageModal').addEventListener('click', function(e) {
    if (e.target === this) {
        hideVendorLanguageModal();
    }
});
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        hideVendorLanguageModal();
    }
});
</script>
{% endblock %}